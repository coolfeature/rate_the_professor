{% extends 'rate_the_professor/base.html' %}
{% load static %}

{% block body_block %}
<div class="row">
    {% if user %}
        <!-- USER DETAILS -->
        <div class="col-md-3 panel panel-default">
            <div class="panel-heading"><h3>Your Profile</h3></div>
            
            <div class="panel-body">
                <div class="profpic">
                    {% if user_profile.picture %}
                        <img src="/media/user/{{ user_profile.picture }}">
                    {% else %}
                        <img src="{% static 'img/profpic.png' %}">
                    {% endif %}
                </div>
                <br>
                <div>Username: {{ user.username }}</div>
                <div>University: {{ user_profile.university }}</div>
                <div>Email: {{ user.email }}</div>
            </div>
        </div>

        <!-- USER RECENT RATINGS -->
        <div class="col-md-8 col-md-offset-1 well">
            <h3>Ratings</h3>
            {% if ratings %}
                {% for rating in ratings %}
                    <hr>
                    <div class="row">
                        <!-- RATING COMMENT -->
                        <div class="col-md-6">
                            <div>{{ rating.comment }}</div>
                            <div class="small-rating">{{ rating.rating }}</div> <div class="date">{{ rating.datetime }}</div>
                        </div>
                        <!-- RATING STARS -->
                        <div class="col-md-3">
                            <table>
                                <tr><td class="prof-rating-type-small">Communication: </td><td><div class="small-rating">{{ rating.communication }}</div></td></tr>
                                <tr><td class="prof-rating-type-small">Knowledge: </td><td><div class="small-rating">{{ rating.knowledge }}</div></td></tr>
                                <tr><td class="prof-rating-type-small">Approachability: </td><td><div class="small-rating">{{ rating.approachability }}</div></td></tr>
                            </table>
                        </div>
                        <div class="col-md-3">
                            <table>
                                <tr><td class="prof-rating-type-small">Enthusiasm: </td><td><div class="small-rating">{{ rating.enthusiasm }}</div></td></tr>
                                <tr><td class="prof-rating-type-small">Clarity: </td><td><div class="small-rating">{{ rating.clarity }}</div></td></tr>
                                <tr><td class="prof-rating-type-small">Awesomeness: </td><td><div class="small-rating">{{ rating.awesomeness }}</div></td></tr>
                            </table>
                        </div>
                    </div>
                {% endfor %}
            {% else %}
                <strong>You haven't left any ratings yet.</strong>
            {% endif %}
        </div>

    {% else %}
        <div class="col-md-12">
            <h2>The specified user {{ user }} does not exist!</h2>
        </div>
    {% endif %}
</div>
{% endblock %}